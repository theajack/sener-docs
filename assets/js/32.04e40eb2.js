(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{645:function(t,e,a){"use strict";a.r(e);var s=a(11),n=Object(s.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"简介"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[t._v("#")]),t._v(" 简介")]),t._v(" "),e("hr"),t._v(" "),e("div",{staticStyle:{margin:"10px"}},[e("a",{attrs:{href:"https://www.github.com/theajack/sener/stargazers",target:"_black"}},[e("img",{attrs:{src:"https://img.shields.io/github/stars/theajack/sener?logo=github",alt:"stars"}})]),t._v(" "),e("a",{attrs:{href:"https://www.github.com/theajack/sener/network/members",target:"_black"}},[e("img",{attrs:{src:"https://img.shields.io/github/forks/theajack/sener?logo=github",alt:"forks"}})]),t._v(" "),e("a",{attrs:{href:"https://www.npmjs.com/package/sener",target:"_black"}},[e("img",{attrs:{src:"https://img.shields.io/npm/v/sener?logo=npm",alt:"version"}})]),t._v(" "),e("a",{attrs:{href:"https://www.npmjs.com/package/sener",target:"_black"}},[e("img",{attrs:{src:"https://img.shields.io/npm/dm/sener?color=%23ffca28&logo=npm",alt:"downloads"}})]),t._v(" "),e("a",{attrs:{href:"https://www.jsdelivr.com/package/npm/sener",target:"_black"}},[e("img",{attrs:{src:"https://data.jsdelivr.com/v1/package/npm/sener/badge",alt:"jsdelivr"}})])]),t._v(" "),e("div",{staticStyle:{margin:"10px"}},[e("a",{attrs:{href:"https://github.com/theajack",target:"_black"}},[e("img",{attrs:{src:"https://img.shields.io/badge/Author-%20theajack%20-7289da.svg?&logo=github",alt:"author"}})]),t._v(" "),e("a",{attrs:{href:"https://www.github.com/theajack/sener/blob/master/LICENSE",target:"_black"}},[e("img",{attrs:{src:"https://img.shields.io/github/license/theajack/sener?color=%232DCE89&logo=github",alt:"license"}})]),t._v(" "),e("a",{attrs:{href:"https://fastly.jsdelivr.net/gh/theajack/sener/dist/sener.latest.min.js"}},[e("img",{attrs:{src:"https://img.shields.io/bundlephobia/minzip/sener.svg",alt:"Size"}})]),t._v(" "),e("a",{attrs:{href:"https://github.com/theajack/sener/search?l=javascript"}},[e("img",{attrs:{src:"https://img.shields.io/github/languages/top/theajack/sener.svg",alt:"TopLang"}})]),t._v(" "),e("a",{attrs:{href:"https://github.com/theajack/sener/issues"}},[e("img",{attrs:{src:"https://img.shields.io/github/issues-closed/theajack/sener.svg",alt:"issue"}})]),t._v(" "),e("a",{attrs:{href:"https://www.github.com/theajack/sener"}},[e("img",{attrs:{src:"https://img.shields.io/librariesio/dependent-repos/npm/sener.svg",alt:"Dependent"}})])]),t._v(" "),e("h2",{attrs:{id:"_1-前言"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-前言"}},[t._v("#")]),t._v(" 1. 前言")]),t._v(" "),e("p",[t._v("Sener 是一个简洁高效、功能强大、高可扩展的nodejs web服务端框架")]),t._v(" "),e("p",[t._v("Sener 的核心是一个简单的http服务器，配合内置的请求和响应解析以及高度灵活的中间件系统，开发者可以基于Sener开发出功能丰富、性能强大的web应用程序")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/theajack/sener/issues/new",target:"_blank",rel:"noopener noreferrer"}},[t._v("反馈问题"),e("OutboundLink")],1)]),t._v(" "),e("h2",{attrs:{id:"_2-特性"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-特性"}},[t._v("#")]),t._v(" 2. 特性")]),t._v(" "),e("ol",[e("li",[t._v("简单高效的架构，全ts编写，高度友好的ts声明支持")]),t._v(" "),e("li",[t._v("支持高度自定义和高可扩展的中间件体系，采用洋葱模型，丰富的路由hooks")])]),t._v(" "),e("h2",{attrs:{id:"_3-中间件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-中间件"}},[t._v("#")]),t._v(" 3. 中间件")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("名称")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("类型")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("功能")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("支持版本")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("router")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("内置")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("简单高可扩展的路由规则")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.0.3")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("cookie")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("内置")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("用于cookie获取和注入")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.0.15")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("session")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("内置")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("用于session获取和注入[依赖cookie]")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.0.15")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("cors")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("内置")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("支持跨域请求")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.0.3")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("env")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("内置")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("用于注入和使用环境变量")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.0.15")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("ip-monitor")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("内置")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("用于对请求ip进行风控拦截")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.0.15")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("validator")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("内置")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("支持验证入参和参数类型定义")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.0.15")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("json")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("独立")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("支持json文件用于数据存储")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.0.4")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("static")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("独立")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("支持静态文件目录")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.0.14")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("form")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("独立")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("支持formdata解析和文件上传")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.0.11")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("config")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("独立")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("支持高度灵活的参数配置和动态变更与监听")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.0.11")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("log")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("独立")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("支持灵活的日志体系，支持日志级别控制")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.0.11")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("mysql")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("独立")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("支持mysql连接")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.0.12")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("mongodb")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("独立")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("支持mongodb连接，collocation的封装")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.0.12")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("rpc")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("独立")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("远程调用支持，支持客户端和服务端使用，支持注入请求的x-trace-id")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.0.13")])])])]),t._v(" "),e("p",[t._v("内置中间件为sener包中自带的中间 但是使用时也需要手动引入")]),t._v(" "),e("p",[t._v("使用独立中间需要安装对应的独立包")]),t._v(" "),e("h2",{attrs:{id:"_4-基础使用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-基础使用"}},[t._v("#")]),t._v(" 4. 基础使用")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Sener"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Router "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'sener'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" router "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Router")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'/demo'")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" query "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// or: 'get:/demo': ({ query }) => { // get: prefix can be ignored")]),t._v("\n        query"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("message "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'from get'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("data")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" query "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Custom headers or statusCode")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// return { data: query, headers: {}, statusCode: 200  };")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'post:/demo'")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" body "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        body"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("message "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'from post'")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("data")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" body "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Sener")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("port")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("9000")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("middlewares")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("router"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("如果是nodejs直接使用的话，请使用 cjs 规范引用")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Sener"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Router "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'sener'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("后面文档中都是用esm规范，端口都是用默认的9000，如需要cjs请自行修改")]),t._v(" "),e("div",[e("star")],1)])}),[],!1,null,null,null);e.default=n.exports}}]);